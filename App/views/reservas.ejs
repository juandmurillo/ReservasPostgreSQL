<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Hotel</title>

  <!-- Boostrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

  <!-- icons -->
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

  <!-- Custom css -->
  <link rel="stylesheet" href="./styles/main.css">

</head>

<body>

  <div class="d-flex">
    <div id="sidebar-container" class="bg-primary">
        <div class="logo">
            <h4 class="text-light fw-bold ">HOTEL</h4>
        </div>
        <div class="menu">
            <a href="/reservas" class="pag d-block p-2 text-light"><i
                    class='bx bx-sm bxs-archive-in'></i>Reservas</a>
            <a href="/habitaciones" class="pag d-block p-2 text-light"><i
                    class='bx bx-sm bxs-hotel'></i>Habitaciones</a>
            <a href="/clientes" class="pag d-block p-2 text-light"><i class='bx bx-sm bxs-user'></i>Clientes</a>
            <a href="/check-in" class="pag d-block p-2 text-light"><i
                    class='bx bx-sm bxs-check-square'></i>Check-in</a>
            <a href="#" class="pag d-block p-2 text-light"><i class='bx bx-sm bxs-checkbox-minus'></i>Check-out</a>
            <a href="/historial" class="pag d-block p-2 text-light"><i class='bx bx-sm bx-stats'></i>Historial</a>
        </div>
    </div>
    <!-- body -->


    <div class="container cont">
      <h1 class="text-dark">Reservaciones</h1>
      <table class="table table-bordered table-striped text-center mt-4">
        <thead>
          <tr class="bg-primary text-white">
            <!-- <th scope="col">#</th> -->
            <th scope="col">idCliente</th>
            <th scope="col">Nombre</th>
            <th scope="col">Habitaci√≥n</th>
            <th scope="col">Noches</th>
            <th scope="col">Personas</th>
            <th scope="col">Estado</th>
            <th scope="col">Fecha Creacion</th>
            <th scope="col">Inicio</th>
            <th scope="col">Cancelar</th>
          </tr>
        </thead>
        <tbody>
          <% if(reservas==='Sin registros' ) {%>
            <h4>No hay reservas registradas</h4>
            <%} else {%>
              <% reservas.forEach((reserva)=>{ %>
                <tr>
                  <!-- <td>
                    <%= reserva.k_numreserva %>
                  </td> -->
                  <td>
                    <%= reserva.k_idcliente %>
                  </td>
                  <td>
                    <%= reserva.n_nombre1 %>
                      <%= reserva.n_nombre2 %>
                        <%= reserva.n_apellido1 %>
                          <%= reserva.n_apellido2 %>
                  </td>
                  <td>
                    <%= reserva.k_numhabitacion %>
                  </td>
                  <td>
                    <%= reserva.q_numnoches %>
                  </td>
                  <td>
                    <%= reserva.q_numpersonas %>
                  </td>
                  <td>
                    <%if(reserva.i_estado=='A') {%> <i class='bx bxs-circle activa'></i>
                      <% } %>
                        <%if(reserva.i_estado=='C') {%> <i class='bx bxs-circle cancelada'></i>
                          <% } %>
                            <%if(reserva.i_estado=='P') {%> <i class='bx bxs-circle pendiente'></i>
                              <% } %>
                                <%if(reserva.i_estado=='F') {%> <i class='bx bxs-circle finalizada'></i>
                                  <% } %>
                                    <%= reserva.i_estado %>
                  </td>
                  <td>
                    <%= reserva.f_reserva.getDate() %>/<%= reserva.f_reserva.getMonth()+1 %>/<%=
                          reserva.f_reserva.getFullYear() %>
                  </td>
                  <td>
                    <%= reserva.f_inicio.getDate() %>/<%= reserva.f_inicio.getMonth()+1 %>/<%=
                          reserva.f_inicio.getFullYear() %>
                  </td>
                  <td>
                    <a href="/reserva/c/<%= reserva.k_numreserva %>" class="btn btn-outline-dark tex"><i class='bx bx-x'></i></a>
                  </td>
                </tr>
                <% }); %>
                  <%}%>

        </tbody>
      </table>
    </div>

    <!-- body -->
  </div>




  <!-- Boostrap js -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
  <!-- custom js -->
</body>

</html>